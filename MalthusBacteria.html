<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Modelo de Malthus — Crecimiento bacteriano (detallado)</title>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; line-height: 1.6; margin: 1.5rem; color: #111; }
    h1,h2 { color: #0b5; }
    .card { border: 1px solid #e3e3e3; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; background: #fff; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
    label { display: inline-block; margin-top: .5rem; }
    input[type="number"] { width: 6.5rem; padding: .25rem .4rem; margin-left: .5rem; }
    button { margin-top: .6rem; padding: .45rem .8rem; border-radius: 6px; border: none; background: #0b5; color: white; cursor: pointer; }
    button:active { transform: translateY(1px); }
    pre { background: #f8f8f8; padding: .75rem; border-radius: 6px; overflow-x: auto; }
    .result { font-weight: 600; color: #004d00; }
    .math { margin: .5rem 0; }
    .small { font-size: .9rem; color: #444; }
    .plot { margin-top: 1rem; }
    footer { margin-top: 1.5rem; font-size: .85rem; color: #666; }
  </style>

  <!-- MathJax para renderizar fórmulas LaTeX -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
</head>
<body>
  <h1>Modelo de Malthus — Crecimiento bacteriano (detallado)</h1>

  <div class="card">
    <p class="small">Enunciado: Supongamos que un cultivo de bacterias tiene una población inicial de <strong>N₀ = 100</strong>. Si la población se duplica cada <strong>3</strong> días, determine:</p>
    <ol>
      <li>El número de bacterias presentes después de <strong>30</strong> días.</li>
      <li>El tiempo requerido para que la población alcance <strong>4250</strong> bacterias.</li>
    </ol>
  </div>

  <div class="card">
    <h2>Parámetros (ajustables)</h2>
    <label>N₀ (población inicial):
      <input id="N0" type="number" value="100" step="1" min="1">
    </label>
    <label style="margin-left:1rem;">Días por duplicación:
      <input id="doubling" type="number" value="3" step="0.1" min="0.01">
    </label>
    <br>
    <label>Tiempo a evaluar (días):
      <input id="tEval" type="number" value="30" step="1" min="0">
    </label>
    <label style="margin-left:1rem;">Población objetivo:
      <input id="target" type="number" value="4250" step="1" min="1">
    </label>
    <br>
    <button id="calcBtn">Calcular</button>
  </div>

  <div class="card" id="solutionCard" aria-live="polite">
    <h2>Solución detallada</h2>

    <section id="theory">
      <p>Usamos las dos formas equivalentes del modelo exponencial (modelo de Malthus):</p>
      <div class="math">\(N(t) = N_0 \cdot 2^{t/D}\)</div>
      <p class="small">Aquí D es el número de días que tarda la población en duplicarse. La forma continua equivalente es \(N(t)=N_0 e^{k t}\) con \(k = \dfrac{\ln 2}{D}\).</p>
    </section>

    <hr>

    <section id="partA">
      <h3>(a) Población después de <span id="tShown">30</span> días</h3>
      <p>Usamos la fórmula: <span class="math">\(N(t)=N_0\cdot 2^{t/D}\)</span></p>
      <div id="calcA" class="math"></div>
      <p class="result" id="resultA"></p>
    </section>

    <hr>

    <section id="partB">
      <h3>(b) Tiempo necesario para alcanzar <span id="targetShown">4250</span> bacterias</h3>
      <p>Planteamos la ecuación:</p>
      <div class="math">\(N_0\cdot 2^{t/D} = N_{\text{target}}\)</div>
      <p>Despejando \(t\):</p>
      <div class="math">\(2^{t/D} = \dfrac{N_{\text{target}}}{N_0} \quad\Rightarrow\quad \dfrac{t}{D} = \log_2\!\left(\dfrac{N_{\text{target}}}{N_0}\right) = \dfrac{\ln\!\left(\dfrac{N_{\text{target}}}{N_0}\right)}{\ln 2}\)</div>
      <div id="calcB" class="math"></div>
      <p class="result" id="resultB"></p>
    </section>

    <hr>

    <section>
      <h3>Resumen</h3>
      <p id="summary"></p>
    </section>
  </div>

  <div class="card plot" id="plotCard">
    <h2>Gráfica del crecimiento</h2>
    <canvas id="growthCanvas" width="760" height="320" style="max-width:100%; border:1px solid #eee; border-radius:6px;"></canvas>
    <p class="small">La gráfica muestra la curva exponencial, el punto N(30) y la línea vertical en el tiempo en que se alcanza la población objetivo.</p>
  </div>

  <footer>
    Archivo
